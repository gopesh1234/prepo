<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />

    <style>
        * {
    box-sizing: border-box;
}

/* PAGE */
body {
    margin: 0;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, Roboto, Arial, sans-serif;
    background: #eef1f5;
    color: #212121;
}

/* PAGE WRAPPER */
.page {
    max-width: 1200px;
    margin: auto;
    padding: 16px;
}

/* HEADING */
h2 {
    font-size: 18px;
    font-weight: 600;
    text-align: center;
    margin-bottom: 16px;
}

/* MAIN LAYOUT */
.main {
    display: flex;
    gap: 16px;
    align-items: flex-start;
}

/* LEFT PANEL */
.left-panel {
    width: 40%;
}

/* RIGHT PANEL (FIXED SIZE BOX) */
.right-panel {
    width: 60%;
    background: #ffffff;
    border-radius: 10px;
    padding: 12px;
    box-shadow: 0 6px 18px rgba(0,0,0,.08);

    height: 420px;              /* ðŸ”’ FIXED HEIGHT */
    display: flex;
    flex-direction: column;
}

/* RIGHT PANEL TITLE */
.right-panel h3 {
    margin: 0 0 10px 0;
    font-size: 14px;
    font-weight: 600;
    color: #374151;
}

/* FORM SECTIONS */
.row {
    background: #ffffff;
    border-radius: 8px;
    padding: 12px;
    margin-bottom: 12px;
    box-shadow: 0 2px 8px rgba(0,0,0,.05);
}

/* INPUTS */
input,
select {
    width: 100%;
    padding: 12px;
    font-size: 14px;
    border-radius: 6px;
    border: 1px solid #cfd4dc;
    background: #ffffff;
    outline: none;
}

input:focus,
select:focus {
    border-color: #2563eb;
}

/* BUTTONS */
button {
    width: 100%;
    margin-top: 10px;
    padding: 12px;
    font-size: 14px;
    font-weight: 500;
    border-radius: 6px;
    border: none;
    background: #2563eb;
    color: white;
    cursor: pointer;
}

button:active {
    background: #1e40af;
}

/* DANGER BUTTON */
button.danger {
    background: #dc2626;
}

button.danger:active {
    background: #b91c1c;
}

/* CARD LIST (SCROLL AREA) */
.cards {
    flex: 1;                    /* takes remaining height */
    display: flex;
    flex-direction: column;
    gap: 10px;

    overflow-y: auto;           /* ðŸ”¥ SCROLL HERE */
    padding-right: 6px;
}

/* CARD */
.card {
    background: #f9fafb;
    border-radius: 8px;
    padding: 12px;
    border-left: 4px solid #2563eb;
    position: relative;
}

.card strong {
    font-size: 14px;
    display: block;
    margin-bottom: 4px;
}

.card small {
    font-size: 12px;
    color: #6b7280;
}

/* DELETE CARD BUTTON */
.delete-card {
    position: absolute;
    top: 6px;
    right: 6px;
    width: 22px;
    height: 22px;
    border-radius: 50%;
    background: #ef4444;
    color: #fff;
    border: none;
    font-size: 14px;
    line-height: 22px;
    cursor: pointer;
}

.delete-card:active {
    background: #dc2626;
}

/* SCROLLBAR */
.cards::-webkit-scrollbar {
    width: 6px;
}

.cards::-webkit-scrollbar-thumb {
    background: #cbd5e1;
    border-radius: 6px;
}

/* ===================== */
/* MOBILE RESPONSIVE */
/* ===================== */
@@media (max-width: 768px) {
    .main {
        flex-direction: column;
    }

    .left-panel,
    .right-panel {
        width: 100%;
    }

    .right-panel {
        height: auto;
        max-height: 60vh;        /* still scrollable on mobile */
    }
}

    </style>
</head>

<body>

<div class="page">
    <h2>Preposition â€“ Phrasal Verb</h2>

    <div class="main">

        <!-- LEFT -->
        <div class="left-panel">
            <div class="row">
                <input id="newOption" placeholder="Add dropdown value" />
                <button onclick="addOption()">Add</button>
            </div>

            <div class="row">
                <select id="dropdown" onchange="renderCards()"></select>
            </div>

            <div class="row">
                <input id="cardText" placeholder="Add text for selected dropdown" />
                <button onclick="addCard()">Save</button>
                <button class="danger" onclick="deleteDropdown()">Delete Dropdown</button>
            </div>
        </div>

        <!-- RIGHT -->
        <div class="right-panel">
            <h3>Saved Cards</h3>
            <div id="cardContainer" class="cards"></div>
        </div>

    </div>
</div>

<script>
    let data = JSON.parse(localStorage.getItem("dropdownData")) || {};
    const dropdown = document.getElementById("dropdown");

    function saveData() {
        localStorage.setItem("dropdownData", JSON.stringify(data));
    }

    function loadDropdown() {
        dropdown.innerHTML = "";
        Object.keys(data).forEach(key => {
            const opt = document.createElement("option");
            opt.value = key;
            opt.textContent = key;
            dropdown.appendChild(opt);
        });
    }

    function addOption() {
        const value = document.getElementById("newOption").value.trim();
        if (!value || data[value]) return;
        data[value] = [];
        saveData();
        loadDropdown();
        dropdown.value = value;
        document.getElementById("newOption").value = "";
        renderCards();
    }

    function addCard() {
        const text = document.getElementById("cardText").value.trim();
        const selected = dropdown.value;
        if (!text || !selected) return;
        data[selected].push(text);
        saveData();
        document.getElementById("cardText").value = "";
        renderCards();
    }

    function renderCards() {
        const container = document.getElementById("cardContainer");
        container.innerHTML = "";
        const selected = dropdown.value;
        if (!selected) return;

        data[selected].forEach((item, index) => {
            const div = document.createElement("div");
            div.className = "card";
            div.innerHTML = `
                <button class="delete-card" onclick="deleteCard('${selected}', ${index})"></button>
                <strong>${item}</strong>
                <small>${selected}</small>
            `;
            container.appendChild(div);
        });
    }

    function deleteDropdown() {
        const selected = dropdown.value;
        if (!selected) return;
        if (!confirm(`Delete "${selected}" and all its data?`)) return;
        delete data[selected];
        saveData();
        loadDropdown();
        renderCards();
    }

    function deleteCard(key, index) {
        if (!confirm("Delete this card?")) return;
        data[key].splice(index, 1);
        saveData();
        renderCards();
    }

    loadDropdown();
    renderCards();
</script>

</body>
</html>
